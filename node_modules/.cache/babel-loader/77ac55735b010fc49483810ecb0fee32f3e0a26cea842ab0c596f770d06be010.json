{"ast":null,"code":"import _regeneratorRuntime from\"C:/React/new_6.8.2023/www7/sixth/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/React/new_6.8.2023/www7/sixth/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/React/new_6.8.2023/www7/sixth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/React/new_6.8.2023/www7/sixth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";//import \"./App.css\";\nimport AddLine from\"./components/AddLine\";import Line from\"./components/Line\";import{collection,query,onSnapshot,doc,updateDoc,deleteDoc}from\"firebase/firestore\";import{db}from\"./firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lines=_useState2[0],setLines=_useState2[1];useEffect(function(){var q=query(collection(db,\"Lines\"));var unsub=onSnapshot(q,function(querySnapshot){var todosArray=[];querySnapshot.forEach(function(doc){todosArray.push(_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id}));});setLines(todosArray);});return function(){return unsub();};},[]);var handleDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return deleteDoc(doc(db,\"Lines\",id));case 2:case\"end\":return _context.stop();}},_callee);}));return function handleDelete(_x){return _ref.apply(this,arguments);};}();var handleUpdate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(line,name,age){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateDoc(doc(db,\"Lines\",line.id),{name:name,age:age});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function handleUpdate(_x2,_x3,_x4){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AddLine,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lines_container\",children:lines.map(function(line){return/*#__PURE__*/_jsx(Line,{line:line,handleDelete:handleDelete,handleUpdate:handleUpdate},line.id);})})]});}export default App;","map":{"version":3,"names":["useEffect","useState","AddLine","Line","collection","query","onSnapshot","doc","updateDoc","deleteDoc","db","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","lines","setLines","q","unsub","querySnapshot","todosArray","forEach","push","_objectSpread","data","id","handleDelete","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","_x","apply","arguments","handleUpdate","_ref2","_callee2","line","name","age","_callee2$","_context2","_x2","_x3","_x4","className","children","map"],"sources":["C:/React/new_6.8.2023/www7/sixth/src/App.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\n//import \"./App.css\";\nimport AddLine from \"./components/AddLine\";\nimport Line from \"./components/Line\";\nimport {\n  collection,\n  query,\n  onSnapshot,\n  doc,\n  updateDoc,\n  deleteDoc,\n} from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\nfunction App() {\n  const [lines, setLines] = useState([]);\n\n  useEffect(() => {\n    const q = query(collection(db, \"Lines\"));\n    const unsub = onSnapshot(q, (querySnapshot) => {\n      let todosArray = [];\n      querySnapshot.forEach((doc) => {\n        todosArray.push({ ...doc.data(), id: doc.id });\n      });\n      setLines(todosArray);\n    });\n    return () => unsub();\n  }, []);\n\n  const handleDelete = async (id) => {\n    await deleteDoc(doc(db, \"Lines\", id));\n  };\n\n  const handleUpdate = async (line, name, age) => {\n    await updateDoc(doc(db, \"Lines\", line.id), { name: name, age: age });\n  };\n\n  return (\n    <div className=\"App\">\n      <div>\n        <AddLine />\n        <br />\n        <br />\n      </div>\n\n      <div className=\"lines_container\">\n        {lines.map((line) => (\n          <Line\n            key={line.id}\n            line={line}\n            handleDelete={handleDelete}\n            handleUpdate={handleUpdate}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}